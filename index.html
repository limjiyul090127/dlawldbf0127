<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ï§ÑÎÑòÍ∏∞ Í≤åÏûÑ</title>
<style>
  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: sans-serif;
    background: #eef;
    margin: 0;
    height: 100vh;
    overflow: hidden;
  }
  h1 {
    margin-top: 20px;
  }
  #gameArea {
    position: relative;
    width: 400px;
    height: 300px;
    background: #fff;
    border: 3px solid #3498db;
    margin-top: 30px;
    overflow: hidden;
    border-radius: 10px;
  }
  #rope {
    position: absolute;
    bottom: 80px;
    left: 0;
    width: 400px;
    height: 10px;
    background: #d35400;
    transform-origin: center bottom;
  }
  #rope.up {
    transform: translateY(-60px) rotate(45deg);
    transition: transform 0.1s ease;
  }
  #character {
    position: absolute;
    bottom: 0;
    left: 180px;
    width: 40px;
    height: 80px;
    background: #2c3e50;
    border-radius: 10px;
  }
  #score {
    margin-top: 20px;
    font-size: 20px;
  }
  #message {
    margin-top: 15px;
    font-size: 24px;
    color: red;
    height: 30px;
  }
  #startBtn {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 18px;
    cursor: pointer;
    border: none;
    border-radius: 6px;
    background-color: #3498db;
    color: white;
    transition: background-color 0.3s ease;
  }
  #startBtn:hover {
    background-color: #2980b9;
  }
</style>
</head>
<body>
  <h1>Ï§ÑÎÑòÍ∏∞ Í≤åÏûÑ</h1>
  <div id="gameArea">
    <div id="rope"></div>
    <div id="character"></div>
  </div>
  <button id="startBtn">Í≤åÏûÑ ÏãúÏûë</button>
  <div id="score">Ï†êÏàò: 0</div>
  <div id="message"></div>

<script>
  const rope = document.getElementById('rope');
  const scoreDisplay = document.getElementById('score');
  const message = document.getElementById('message');
  const startBtn = document.getElementById('startBtn');

  let score = 0;
  let ropeDirection = 1; // 1 = ÎÇ¥Î†§Í∞ÄÎäî Ï§ë, -1 = Ïò¨ÎùºÍ∞ÄÎäî Ï§ë
  let ropePosition = 50; // 0 ~ 100 ÏúÑÏπò, ÏãúÏûë Ï†Ñ Ï§ëÍ∞Ñ ÏúÑÏπòÎ°ú ÏÑ∏ÌåÖ
  let gameRunning = false;
  let intervalId = null;

  // Ï§ÑÏù¥ ÏôîÎã§Í∞îÎã§ÌïòÎäî Ïï†ÎãàÎ©îÏù¥ÏÖò (0~100 ÏÇ¨Ïù¥ ÏúÑÏπò)
  function animateRope() {
    if (!gameRunning) return;
    ropePosition += ropeDirection * 3;

    if (ropePosition >= 100) {
      ropeDirection = -1;
      ropePosition = 100;
    } else if (ropePosition <= 0) {
      ropeDirection = 1;
      ropePosition = 0;
    }

    // rope ÏúÑÏπòÏóê Îî∞Îùº transform Ï°∞Ï†ï (0Ïùº Îïå ÏôÑÏ†ÑÌûà ÎÇ¥Î†§Ïò¥, 100Ïùº Îïå ÏôÑÏ†ÑÌûà Ïò¨ÎùºÍ∞ê)
    const translateY = ropePosition * 0.6; // ÏµúÎåÄ 60px ÏúÑÎ°ú
    const rotate = ropePosition * 0.45; // ÏµúÎåÄ 45ÎèÑ ÌöåÏ†Ñ

    rope.style.transform = `translateY(${translateY}px) rotate(${rotate}deg)`;
  }

  // Ïä§ÌéòÏù¥Ïä§Î∞î ÎàÑÎ•¥Î©¥ Ï§ÑÎÑòÍ∏∞ ÏãúÎèÑ
  window.addEventListener('keydown', e => {
    if (e.code === 'Space' && gameRunning) {
      if (ropePosition >= 70) {
        score++;
        scoreDisplay.textContent = `Ï†êÏàò: ${score}`;
        message.textContent = 'ÏÑ±Í≥µ! üéâ';
        rope.classList.add('up');
        setTimeout(() => {
          rope.classList.remove('up');
          message.textContent = '';
        }, 300);
      } else {
        message.textContent = 'Ïã§Ìå®! Í≤åÏûÑ Ï¢ÖÎ£å';
        gameRunning = false;
        clearInterval(intervalId);
        startBtn.disabled = false;
        startBtn.textContent = 'Îã§Ïãú ÏãúÏûë';
      }
    }
  });

  // ÏãúÏûë Î≤ÑÌäº ÎàÑÎ•¥Î©¥ Í≤åÏûÑ ÏãúÏûë
  startBtn.addEventListener('click', () => {
    score = 0;
    ropePosition = 50;
    ropeDirection = 1;
    scoreDisplay.textContent = `Ï†êÏàò: ${score}`;
    message.textContent = '';
    gameRunning = true;
    startBtn.disabled = true;
    startBtn.textContent = 'Í≤åÏûÑ Ï§ë...';

    intervalId = setInterval(() => {
      animateRope();
    }, 30);
  });

  // ÏãúÏûë Ï†Ñ Ï§Ñ ÏúÑÏπò Ï¥àÍ∏∞ ÏÑ§Ï†ï
  rope.style.transform = `translateY(${ropePosition * 0.6}px) rotate(${ropePosition * 0.45}deg)`;

</script>
</body>
</html>
